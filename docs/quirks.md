В компоненте Yandex Smart Home и Умном доме Яндекса существует ряд особенностей и ограничений,
некоторые из них следует знать для максимально беспроблемной работы.

## Принцип работы { id=ysh-principles }

Компонент создаёт в УДЯ устройства с набором умений (функций) и датчиков используя `Объекты` (`Entity`) из Home Assistant,
`Устройства` (`Devices`) Home Assistant никаким[^1] образом не используются.
[^1]: Устройства HA используются только для отображении модели в УДЯ и определения комнаты

Одно устройство в УДЯ может состоять из нескольких объектов Home Assistant, например, [датчики](devices/sensor/about.md).

!!! summary "В этой документации под словом "Устройство" подразумевается "Устройство в УДЯ, созданное из объектов Home Assistant""

## Названия устройств { id=naming }

В названиях устройств возможны **только** русские символы и цифры, между словами и числами должны быть пробелы. Максимальная длина - 25 символов. Объекты не отвечающие данному требованию будут загружены в УДЯ как устройства, но потребуют ручного переименования.

!!! tip "[Рекомендации по правильному выбору имени устройства](https://alice.yandex.ru/support/ru/smart-home/how-to-name-device)"

Очень утомительно переименовывать устройств непосредственно в УДЯ, поэтому рекомендуется сразу задать правильные названия в Home Assistant.

Источники названия устройства (в порядке приоритета):

1. Параметр `name` в [параметрах устройства](config/entity.md#name-room)
2. Альтернативное название формата `Алиса: АБВ` (например `Алиса: Лампочка`) в `Альтернативных названиях` объекта: `Настройки` --> `Устройства и службы` --> [`Объекты`](https://my.home-assistant.io/redirect/entities/) --> Выбрать объект --> :fontawesome-solid-gear: -->  `Голосовые ассистенты`
3. Прочие альтернативные названия объекта, содержащие только кириллицу и цифры: должна быть включена опция `Учитывать альтернативные названия устройств и комнат` в [настройках](config/getting-started.md#gui) интеграции --> `Объекты передачи в УДЯ` (включена по умолчанию)
4. `Название объекта` на странице `Настройки` --> `Устройства и службы` --> [`Объекты`](https://my.home-assistant.io/redirect/entities/)
5. Атрибут `friendly_name` в [customization.yaml](https://www.home-assistant.io/docs/configuration/customizing-devices/)
6. Параметр `alias` для скриптов

## Комнаты { id=rooms }

При добавлении нового устройства в УДЯ комната может назначаться автоматически, для этого она должна быть указана в Home Assistant.

К именам комнат предъявляются те же требования, что и к именам устройств (только русские символы и цифры).

Источники названия комнаты устройства (в порядке приоритета):

1. Параметр `room` в [параметрах устройства](config/entity.md#name-room)
2. Альтернативное название формата `Алиса: АБВ` (например `Алиса: Кухня`) в `Альтернативных названиях` пространства: `Настройки` --> [`Пространства, зоны и ярлыки`](https://my.home-assistant.io/redirect/areas/) --> Выбрать пространство --> :fontawesome-solid-ellipsis-vertical: --> `Настройки пространства` --> `Альтернативные названия`
3. Прочие альтернативные названия пространства, содержащие только кириллицу и цифры: должна быть включена опция `Учитывать альтернативные названия устройств и комнат` в [настройках](config/getting-started.md#gui) интеграции --> `Объекты передачи в УДЯ` (включена по умолчанию)

Для вариантов 2 и 3 в пространство должен быть включен объект напрямую, или устройство HA, в которое этот объект входит.
